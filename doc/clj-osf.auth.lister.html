<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clj-osf.auth.lister documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Clj-osf 0.1.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-osf</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auth</span></div></div></li><li class="depth-3 branch current"><a href="clj-osf.auth.lister.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lister</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registrar</span></div></div></li><li class="depth-4 branch"><a href="clj-osf.auth.registrar.access.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>access</span></div></a></li><li class="depth-4 branch"><a href="clj-osf.auth.registrar.group.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>group</span></div></a></li><li class="depth-4 branch"><a href="clj-osf.auth.registrar.user.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user</span></div></a></li><li class="depth-4"><a href="clj-osf.auth.registrar.ws.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ws</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>cognonto</span></div></div></li><li class="depth-3 branch"><a href="clj-osf.cognonto.classify.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>classify</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tag</span></div></div></li><li class="depth-4"><a href="clj-osf.cognonto.tag.concepts.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>concepts</span></div></a></li><li class="depth-2 branch"><a href="clj-osf.core.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>crud</span></div></div></li><li class="depth-3 branch"><a href="clj-osf.crud.create.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>create</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.crud.delete.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>delete</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.crud.read.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>read</span></div></a></li><li class="depth-3"><a href="clj-osf.crud.update.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>update</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>dataset</span></div></div></li><li class="depth-3 branch"><a href="clj-osf.dataset.create.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>create</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.dataset.delete.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>delete</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.dataset.read.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>read</span></div></a></li><li class="depth-3"><a href="clj-osf.dataset.update.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>update</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>ontology</span></div></div></li><li class="depth-3 branch"><a href="clj-osf.ontology.create.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>create</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.ontology.delete.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>delete</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.ontology.read.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>read</span></div></a></li><li class="depth-3"><a href="clj-osf.ontology.update.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>update</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>revision</span></div></div></li><li class="depth-3 branch"><a href="clj-osf.revision.delete.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>delete</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.revision.diff.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>diff</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.revision.lister.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lister</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.revision.read.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>read</span></div></a></li><li class="depth-3"><a href="clj-osf.revision.update.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>update</span></div></a></li><li class="depth-2 branch"><a href="clj-osf.search.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>search</span></div></a></li><li class="depth-2 branch"><a href="clj-osf.sparql.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sparql</span></div></a></li><li class="depth-2"><a href="clj-osf.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-osf.auth.lister.html#var-dataset-groups-accesses"><div class="inner"><span>dataset-groups-accesses</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.lister.html#var-datasets-uris"><div class="inner"><span>datasets-uris</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.lister.html#var-group-accesses"><div class="inner"><span>group-accesses</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.lister.html#var-group-users"><div class="inner"><span>group-users</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.lister.html#var-groups"><div class="inner"><span>groups</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.lister.html#var-include-all-web-service-uris"><div class="inner"><span>include-all-web-service-uris</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.lister.html#var-include-no-web-service-uris"><div class="inner"><span>include-no-web-service-uris</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.lister.html#var-include-target-web-service-uri"><div class="inner"><span>include-target-web-service-uri</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.lister.html#var-lister"><div class="inner"><span>lister</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.lister.html#var-registered-web-service-endpoints-uri"><div class="inner"><span>registered-web-service-endpoints-uri</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.lister.html#var-user-accesses"><div class="inner"><span>user-accesses</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.lister.html#var-user-groups"><div class="inner"><span>user-groups</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">clj-osf.auth.lister</h2><div class="doc"><div class="markdown"><p>Send a Auth Lister Query to a OSF Auth Lister web service endpoint</p><p>The Auth: Lister Web service is used to list all of the datasets accessible to a given user, list all of the datasets accessible to a given user with all of its CRUD permissions, to list all of the Web services registered to the WSF (Web Services Framework) and to list all of the CRUD permissions, for all users, for a given dataset created on a WSF.</p><p>This Web service is used to list all the things that are registered / authenticated in a Web Service Framework network.</p><p>To use the Auth: Lister code, you have to:</p>
<pre><code>;; Use/require the namespace
(require &#39;[clj-osf.auth.lister :as auth])

;; Define the OSF Sandbox credentials (or your own):
(require &#39;[clj-osf.core :as osf])

(osf/defosf osf-test-endpoint {:protocol :http
                               :domain &quot;sandbox.opensemanticframework.org&quot;
                               :api-key &quot;EDC33DA4D977CFDF7B90545565E07324&quot;
                               :app-id &quot;administer&quot;})

(osf/defuser osf-test-user {:uri &quot;http://sandbox.opensemanticframework.org/wsf/users/admin&quot;})
</code></pre><p><a href="http://wiki.opensemanticframework.org/index.php/Auth:_Lister#Web_Service_Endpoint_Information">Open Semantic Framework Endpoint Documentation</a></p></div></div><div class="public anchor" id="var-dataset-groups-accesses"><h3>dataset-groups-accesses</h3><div class="usage"><code>(dataset-groups-accesses uri)</code></div><div class="doc"><div class="markdown"><p>Specifies that this query will return all the group access records in the OSF network instance. This information will only be returned if the requester has permissions on the core OSF registry dataset.</p><h5>Parameters</h5>
<ul>
  <li><code>[uri]</code> the URI of the target dataset for which you want the access records for all its users</li>
</ul><h5>Usage</h5>
<pre><code>(auth/lister
  (auth/dataset-group-accesses &quot;http://sandbox.opensemanticframework.org/datasets/test/&quot;))
</code></pre></div></div></div><div class="public anchor" id="var-datasets-uris"><h3>datasets-uris</h3><div class="usage"><code>(datasets-uris)</code></div><div class="doc"><div class="markdown"><p>Specifies that this query will return all the datasets URI currently existing, and accessible by the user, in the OSF network instance.</p><h5>Usage</h5>
<pre><code>(auth/lister
  (auth/datasets-uris)
</code></pre></div></div></div><div class="public anchor" id="var-group-accesses"><h3>group-accesses</h3><div class="usage"><code>(group-accesses uri)</code></div><div class="doc"><div class="markdown"><p>Specifies that this query will return all the datasets URI currently existing, and accessible by the group, in the OSF network instance, along with their CRUD permissions.</p><h5>Parameters</h5>
<ul>
  <li><code>[uri]</code> the URI of the group for which you want all the accessible datasets</li>
</ul><h5>Usage</h5>
<pre><code>(auth/lister
  (auth/group-accesses &quot;http://sandbox.opensemanticframework.org/wsf/groups/administrators&quot;))
</code></pre></div></div></div><div class="public anchor" id="var-group-users"><h3>group-users</h3><div class="usage"><code>(group-users uri)</code></div><div class="doc"><div class="markdown"><p>Specifies that this query will return all the users registered to a group</p><h5>Parameters</h5>
<ul>
  <li><code>[uri]</code> the URI of the group for which you want all its users</li>
</ul><h5>Usage</h5>
<pre><code>(auth/lister
  (auth/group-users &quot;http://sandbox.opensemanticframework.org/wsf/groups/administrators&quot;))
</code></pre></div></div></div><div class="public anchor" id="var-groups"><h3>groups</h3><div class="usage"><code>(groups)</code></div><div class="doc"><div class="markdown"><p>Specifies that this query will return all the groups currently defined in the OSF instance.</p><h5>Usage</h5>
<pre><code>(auth/lister
  (auth/groups))
</code></pre></div></div></div><div class="public anchor" id="var-include-all-web-service-uris"><h3>include-all-web-service-uris</h3><div class="usage"><code>(include-all-web-service-uris)</code></div><div class="doc"><div class="markdown"><p>Specifies if you want to get all the WebService URIs along with all the access records. Depending on the usecase, this list can be quite large and the returned resultset can be huge.</p><h5>Usage</h5>
<pre><code>(auth/lister
  (auth/include-all-web-service-uris))
</code></pre></div></div></div><div class="public anchor" id="var-include-no-web-service-uris"><h3>include-no-web-service-uris</h3><div class="usage"><code>(include-no-web-service-uris)</code></div><div class="doc"><div class="markdown"><p>Specifies if you do not want to include any web service URIs for the access records.</p><h5>Usage</h5>
<pre><code>(auth/lister
  (auth/include-no-web-service-uris))
</code></pre></div></div></div><div class="public anchor" id="var-include-target-web-service-uri"><h3>include-target-web-service-uri</h3><div class="usage"><code>(include-target-web-service-uri uri)</code></div><div class="doc"><div class="markdown"><p>Specifies which target web service you want to include in the resultset</p><h5>Parameters</h5>
<ul>
  <li><code>[uri]</code> URI of the web service endpoint to include</li>
</ul><h5>Usage</h5>
<pre><code>(auth/lister
  (auth/include-target-web-service-uri &quot;http://sandbox.opensemanticframework.org/wsf/ws/auth/lister/&quot;))
</code></pre></div></div></div><div class="public anchor" id="var-lister"><h3>lister</h3><div class="usage"><code>(lister &amp; body)</code></div><div class="doc"><div class="markdown"><p>Auth: Lister query.</p><p><strong>Required</strong></p><h5>Usage</h5>
<pre><code>(require &#39;[clj-osf.auth.lister :as auth-l])

;; Get all groups accesses for a given dataset
(auth-l/lister
  (auth-l/dataset-groups-accesses &quot;http://sandbox.opensemanticframework.org/datasets/test/&quot;))

;; Get all the datasets accessible to a group of users
(auth-l/lister
  (auth-l/group-accesses &quot;http://sandbox.opensemanticframework.org/wsf/groups/administrators&quot;))

;; Get all the groups of the OSF instance
(auth-l/lister
  (auth-l/groups))

;; Get all the users of a target group
(auth-l/lister
  (auth-l/group-users &quot;http://sandbox.opensemanticframework.org/wsf/groups/administrators&quot;))

;; Get all the groups of a target user
(auth-l/lister
  (auth-l/user-groups))

;; Get all the accesses available for that user
(auth-l/lister
  (auth-l/user-accesses))

;; Specifying the target web service endpoint to include in the resultset
(auth-l/lister
  (auth-l/user-accesses)
  (auth-l/include-target-web-service-uri &quot;http://sandbox.opensemanticframework.org/wsf/ws/auth/lister/&quot;))
</code></pre></div></div></div><div class="public anchor" id="var-registered-web-service-endpoints-uri"><h3>registered-web-service-endpoints-uri</h3><div class="usage"><code>(registered-web-service-endpoints-uri)</code></div><div class="doc"><div class="markdown"><p>Specifies that this query will return all the web service endpoints URI currently registered to this OSF network instance.</p><h5>Usage</h5>
<pre><code>(auth/lister
  (auth/registered-web-service-endpoints-uri))
</code></pre></div></div></div><div class="public anchor" id="var-user-accesses"><h3>user-accesses</h3><div class="usage"><code>(user-accesses)</code></div><div class="doc"><div class="markdown"><p>Specifies that this query will return all the datasets URI currently existing, and accessible by the user, in the OSF network instance, along with their CRUD permissions.</p><h5>Usage</h5>
<pre><code>(auth/lister
  (auth/user-accesses))
</code></pre></div></div></div><div class="public anchor" id="var-user-groups"><h3>user-groups</h3><div class="usage"><code>(user-groups)</code></div><div class="doc"><div class="markdown"><p>Specifies that this query will return all the groups where the user is registered to</p><p>Note that the user is the one that make the request to the OSF instance. </p><h5>Usage</h5>
<pre><code>(auth/lister
  (auth/user-groups))
</code></pre></div></div></div></div></body></html>