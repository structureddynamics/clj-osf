<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clj-osf.auth.registrar.access documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Clj-osf 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-osf</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auth</span></div></div></li><li class="depth-3 branch"><a href="clj-osf.auth.lister.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lister</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registrar</span></div></div></li><li class="depth-4 branch current"><a href="clj-osf.auth.registrar.access.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>access</span></div></a></li><li class="depth-4 branch"><a href="clj-osf.auth.registrar.group.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>group</span></div></a></li><li class="depth-4 branch"><a href="clj-osf.auth.registrar.user.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user</span></div></a></li><li class="depth-4"><a href="clj-osf.auth.registrar.ws.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ws</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>cognonto</span></div></div></li><li class="depth-3 branch"><a href="clj-osf.cognonto.classify.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>classify</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tag</span></div></div></li><li class="depth-4"><a href="clj-osf.cognonto.tag.concepts.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>concepts</span></div></a></li><li class="depth-2 branch"><a href="clj-osf.core.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>crud</span></div></div></li><li class="depth-3 branch"><a href="clj-osf.crud.create.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>create</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.crud.delete.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>delete</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.crud.read.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>read</span></div></a></li><li class="depth-3"><a href="clj-osf.crud.update.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>update</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>dataset</span></div></div></li><li class="depth-3 branch"><a href="clj-osf.dataset.create.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>create</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.dataset.delete.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>delete</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.dataset.read.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>read</span></div></a></li><li class="depth-3"><a href="clj-osf.dataset.update.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>update</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>ontology</span></div></div></li><li class="depth-3 branch"><a href="clj-osf.ontology.create.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>create</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.ontology.delete.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>delete</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.ontology.read.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>read</span></div></a></li><li class="depth-3"><a href="clj-osf.ontology.update.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>update</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>revision</span></div></div></li><li class="depth-3 branch"><a href="clj-osf.revision.delete.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>delete</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.revision.diff.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>diff</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.revision.lister.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lister</span></div></a></li><li class="depth-3 branch"><a href="clj-osf.revision.read.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>read</span></div></a></li><li class="depth-3"><a href="clj-osf.revision.update.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>update</span></div></a></li><li class="depth-2 branch"><a href="clj-osf.search.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>search</span></div></a></li><li class="depth-2 branch"><a href="clj-osf.sparql.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sparql</span></div></a></li><li class="depth-2"><a href="clj-osf.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-osf.auth.registrar.access.html#var-create"><div class="inner"><span>create</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.registrar.access.html#var-crud-permissions"><div class="inner"><span>crud-permissions</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.registrar.access.html#var-delete-all-dataset-accesses"><div class="inner"><span>delete-all-dataset-accesses</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.registrar.access.html#var-delete-all-group-accesses"><div class="inner"><span>delete-all-group-accesses</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.registrar.access.html#var-delete-specific-access"><div class="inner"><span>delete-specific-access</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.registrar.access.html#var-delete-target-access"><div class="inner"><span>delete-target-access</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.registrar.access.html#var-registrar-access"><div class="inner"><span>registrar-access</span></div></a></li><li class="depth-1"><a href="clj-osf.auth.registrar.access.html#var-update"><div class="inner"><span>update</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">clj-osf.auth.registrar.access</h2><div class="doc"><div class="markdown"><p>Send a Auth Registrar Access Query to a OSF Auth Registrar Access web service endpoint</p><p>The Auth Registrar: Access Web service is used to register (create, update and delete) an access for a given IP address, to a specific dataset and all the registered Web services endpoints registered to the WSF (Web Services Framework) with given CRUD (Create, Read, Update and Delete) permissions in the WSF. </p><p>This Web service is intended to be used by content management systems, developers or administrators to manage access to WSF (Web Service Framework) resources (users, datasets, Web services endpoints).</p><p>This web service endpoint is used to create what we refer to as an access permissions record. This record describe the CRUD permissions, for a certain IP address, to use a set of web service endpoints, to query a target dataset.</p><p>To use the Auth: Registrar Access code, you have to:</p>
<pre><code>;; Use/require the namespace
(require &#39;[clj-osf.auth.registrar.access :as auth-ra])
(require &#39;[clj-osf.utils :as utils])

;; Define the OSF Sandbox credentials (or your own):
(require &#39;[clj-osf.core :as osf])

(osf/defosf osf-test-endpoint {:protocol :http
                               :domain &quot;sandbox.opensemanticframework.org&quot;
                               :api-key &quot;EDC33DA4D977CFDF7B90545565E07324&quot;
                               :app-id &quot;administer&quot;})

(osf/defuser osf-test-user {:uri &quot;http://sandbox.opensemanticframework.org/wsf/users/admin&quot;})
</code></pre><p><a href="http://wiki.opensemanticframework.org/index.php/Auth_Registrar:_Access#Web_Service_Endpoint_Information">Open Semantic Framework Endpoint Documentation</a></p></div></div><div class="public anchor" id="var-create"><h3>create</h3><div class="usage"><code>(create group-uri dataset-uri permissions web-services-uris)</code></div><div class="doc"><div class="markdown"><p>Create a new access permissions record</p><h5>Parameters</h5>
<ul>
  <li><code>[group-uri]</code> Target Group URI related to the acces record being created</li>
  <li><code>[dataset-uri]</code> Specifies which dataset URI is targeted by the access record.</li>
  <li><code>[permissions]</code> A CRUD permission object instance that define the permissions granted  for the target IP, target Dataset and target Web Service Endpoints of  this access permission record. See <code>(crud-permissions)</code>.</li>
  <li><code>[web-services-uris]</code> Specifies which web service endpoint URI are targetted by this access record.  Only the web service endpoints URIs that will be defined in this access record  will be able to access/use data for the user and dataset defined in this access  record. Note: you can get the complete list of webservice endpoint URIs  registered to a OSF network instance by using the  <code>(clj-osf.utils.get-ws-endpoints-uris)</code> function.</li>
</ul><h5>Usage</h5>
<pre><code>(auth/registrar-access
  (auth/create &quot;http://sandbox.opensemanticframework.org/wsf/groups/administrators&quot;
               &quot;http://sandbox.opensemanticframework.org/datasets/test/&quot;
               (auth/crud-permissions true true true true)
               (utils/get-ws-endpoints-uris)))
</code></pre></div></div></div><div class="public anchor" id="var-crud-permissions"><h3>crud-permissions</h3><div class="usage"><code>(crud-permissions create read update delete)</code></div><div class="doc"><div class="markdown"><p>Define a CRUD permissions record to be used as input to other Auth Registrar: Access functions</p><h5>Parameters</h5>
<ul>
  <li><code>[create]</code> Specify if you want create permissions for this CRUD record</li>
  <li><code>[read]</code> Specify if you want read permissions for this CRUD record</li>
  <li><code>[update]</code> Specify if you want update permissions for this CRUD record</li>
  <li><code>[delete]</code> Specify if you want delete permissions for this CRUD record</li>
</ul><h5>Usage</h5>
<pre><code>(auth/registrar-access
  (auth/create &quot;http://sandbox.opensemanticframework.org/wsf/groups/administrators&quot;
               &quot;http://sandbox.opensemanticframework.org/datasets/test/&quot;
               (auth/crud-permissions true true true true)
               (utils/get-ws-endpoints-uris)))
</code></pre></div></div></div><div class="public anchor" id="var-delete-all-dataset-accesses"><h3>delete-all-dataset-accesses</h3><div class="usage"><code>(delete-all-dataset-accesses uri)</code></div><div class="doc"><div class="markdown"><p>Delete all accesses permissions records for a specific dataset</p><h5>Parameters</h5>
<ul>
  <li><code>[uri]</code> Dataset URI for which we delete all the access record defined for it</li>
</ul><h5>Usage</h5>
<pre><code>(auth/registrar-access
  (auth/delete-all-dataset-accesses &quot;http://sandbox.opensemanticframework.org/datasets/test/&quot;))
</code></pre></div></div></div><div class="public anchor" id="var-delete-all-group-accesses"><h3>delete-all-group-accesses</h3><div class="usage"><code>(delete-all-group-accesses uri)</code></div><div class="doc"><div class="markdown"><p>Delete all accesses permissions records for a specific group</p><h5>Parameters</h5>
<ul>
  <li><code>[uri]</code> Group URI for which we delete all the access record defined for it</li>
</ul><h5>Usage</h5>
<pre><code>(auth/registrar-access
  (auth/delete-all-group-accesses &quot;http://sandbox.opensemanticframework.org/wsf/groups/administrators&quot;))
</code></pre></div></div></div><div class="public anchor" id="var-delete-specific-access"><h3>delete-specific-access</h3><div class="usage"><code>(delete-specific-access uri)</code></div><div class="doc"><div class="markdown"><p>Delete a specific access record</p><h5>Parameters</h5>
<ul>
  <li><code>[uri]</code> URI of the access record to delete from the system</li>
</ul><h5>Usage</h5>
<pre><code>(auth/registrar-access
  (auth/delete-specific-access &quot;http://sandbox.opensemanticframework.org/wsf/access/a986129592045faaa4380e47c340953&quot;))
</code></pre></div></div></div><div class="public anchor" id="var-delete-target-access"><h3>delete-target-access</h3><div class="usage"><code>(delete-target-access group dataset)</code></div><div class="doc"><div class="markdown"><p>Delete a target access permissions record for a specific IP address and a specific dataset </p><h5>Parameters</h5>
<ul>
  <li><code>[group]</code> Target Group URI related to the acces record being created</li>
  <li><code>[dataset]</code> Dataset URI defined for the access record to delete</li>
</ul><h5>Usage</h5>
<pre><code>(auth/registrar-access
  (auth/delete-target-access &quot;http://sandbox.opensemanticframework.org/wsf/groups/administrators&quot;
                             &quot;http://sandbox.opensemanticframework.org/datasets/test/&quot;))
</code></pre></div></div></div><div class="public anchor" id="var-registrar-access"><h3>registrar-access</h3><div class="usage"><code>(registrar-access &amp; body)</code></div><div class="doc"><div class="markdown"><p>Auth: Registrar Access query.</p><p><strong>Required</strong></p><h5>Usage</h5>
<pre><code>(require &#39;[clj-osf.auth.registrar.access :as auth-ra])

(auth-ra/registrar-access
  (auth-ra/create &quot;http://sandbox.opensemanticframework.org/wsf/groups/administrators&quot;
                  &quot;http://sandbox.opensemanticframework.org/datasets/test/&quot;
  (auth-ra/crud-permissions true true true true)
  (utils/get-ws-endpoints-uris)))

(auth-ra/registrar-access
  (auth-ra/update &quot;http://sandbox.opensemanticframework.org/wsf/access/a986129592045faaa4380e47c340953e&quot;
                  &quot;http://sandbox.opensemanticframework.org/wsf/groups/administrators&quot;
                  &quot;http://sandbox.opensemanticframework.org/datasets/test/&quot;
  (auth-ra/crud-permissions false false false false)
  (utils/get-ws-endpoints-uris)))

(auth-ra/registrar-access
  (auth-ra/delete-all-dataset-accesses &quot;http://sandbox.opensemanticframework.org/datasets/test/&quot;))
</code></pre></div></div></div><div class="public anchor" id="var-update"><h3>update</h3><div class="usage"><code>(update access-uri group-uri dataset-uri permissions web-services-uris)</code></div><div class="doc"><div class="markdown"><p>Update an existing access permissions record</p><h5>Parameters</h5>
<ul>
  <li><code>[access-uri]</code> Access record URI to modify</li>
  <li><code>[group-uri]</code> Target Group URI related to the acces record being created</li>
  <li><code>[dataset-uri]</code> Specifies which dataset URI is targeted by the access record.</li>
  <li><code>[permissions]</code> A CRUD permission object instance that define the permissions granted  for the target IP, target Dataset and target Web Service Endpoints of  this access permission record. See <code>(crud-permissions)</code>.</li>
  <li><code>[web-services-uris]</code> Specifies which web service endpoint URI are targetted by this access record.  Only the web service endpoints URIs that will be defined in this access record  will be able to access/use data for the user and dataset defined in this access  record. Note: you can get the complete list of webservice endpoint URIs  registered to a OSF network instance by using the  <code>(clj-osf.utils.get-ws-endpoints-uris)</code> function.</li>
</ul><h5>Usage</h5>
<pre><code>(auth/registrar-access
  (auth/update &quot;http://sandbox.opensemanticframework.org/wsf/access/a986129592045faaa4380e47c340953e&quot;
               &quot;http://sandbox.opensemanticframework.org/wsf/groups/administrators&quot;
               &quot;http://sandbox.opensemanticframework.org/datasets/test/&quot;
               (auth/crud-permissions true true true true)
               (utils/get-ws-endpoints-uris)))
</code></pre></div></div></div></div></body></html>